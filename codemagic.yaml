
workflows:
  android-build:
    name: Android Build
    environment:
      # Build အတွက် လိုအပ်သော နည်းပညာများ သတ်မှတ်ခြင်း
      node: 18 # Node.js version
      java: 17 # Java version (Android Build အတွက် လိုအပ်)
      
    scripts:
      - name: Install dependencies
        # package.json ထဲက dependencies များကို download လုပ်ခြင်း
        script: npm install
        
      - name: Build Web Assets
        # Web Code (Next.js/React) များကို Production အတွက် Build လုပ်ခြင်း
        script: npm run build
        
      - name: Sync Capacitor project
        # Build ပြီးသား Web Code များကို Android Native Project ထဲသို့ ကူးထည့်ခြင်း
        script: npx cap sync android
        
      - name: Build Android Release APK
        # Android folder ထဲသို့ ဝင်၍ APK ဖိုင်ကို တကယ်တမ်း ထုတ်လုပ်ခြင်း
        script: |
          cd android
          ./gradlew assembleRelease
          
    artifacts: